# Development Document of the svd site
svd is a short for Spierings v Dijk and is planned to be
a website for the mentioned family.
We will use 'docker' to run 'python' and 'postgresql' in containers. We
will follow the 12 step development philosophy

### Project Structure
	- app/		    ~Django project
    - app/settings/ ~Settings folder
	- app/core/	    ~Code shared between multiple apps
	- app/user/     ~User related code
	- app/family/   ~Family related code

### Required applications
    - Docker    (installed v27.3.1 docker-compose v2.26.1-desktop.1)
    - Code      (installed v1.94.0)
    - Git       (installed v2.46.2)

### Project setup
    - GitHub project
        make a new project in github and clone to local machine.
        Make sure SSH works (www.slingacademy.com/article/git-error-permission-denied-publickey/?utm_content=cmp-true):
    - requirements
        Go to base project folder on local machine (svd-dev-api)
        create folder requirements with the files:
            - base.txt
            - development.txt
            - production.txt
    - Docker
        See Dockerfile
        could not run docker build, had to remove json file:  sudo rm ~/.docker/config.json
    - docker compose
        see docker-compose.yml
        docker compose build rebuilds the docker file.
    - linting
        docker-compose run --rm app sh -c "flake8"
    - django-project
        dca "django-admin startproject svd ."
        alias dcu = "docker-compose up"
        alias dcd = "docker-compose down"
    - testing
        alias dca = "docker-compose run --rm app sh -c"
        dca "python manage.py test"
    - refraction
        mkdir -p config/settings
        mv app/svd/settings.py app/config/settings/base.py
        mv app/svd/*.py app/config/
        modify manage.py
        modify config/settings/base.py

### Github Action
    - create file :
        mkdir -p .github/workflows/
        touch .github/workflows/check.yml
        see this file.
    - Create access token in dockerhub
    - Copy the token to github secret.DOCKERHUB_TOKEN

Started this time with this document as first file.